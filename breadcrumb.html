<nav class="breadcrumb">
    <div class="container">
        <ol id="breadcrumb-list"></ol>
    </div>
</nav>

<script>
(function() {
    // Bảng tra cứu tên (giữ nguyên)
    const map = {
        "StuShare": "Trang chủ",
        "index.html": "Trang chủ",
        "truong-dai-hoc": "Tài Liệu Trường Đại học & Học viện",
        "truong-dai-hoc.html": "Tài Liệu Trường Đại học & Học viện",
        "uet-subjects.html": "Trường Đại học Công nghệ",
        "uet-subjects": "Trường Đại học Công nghệ",
        "cntt-csdl.html": "Cơ sở dữ liệu",
        "cntt-csdl": "Cơ sở dữ liệu",
        "GVkhoaCNTT-documents": "GV Khoa Công Nghệ Thông Tin",
        "GVkhoaCNTT-documents.html": "GV Khoa Công Nghệ Thông Tin",
        "cntt-xstk.html": "Xác suất thống kê",
        "cntt-xstk": "Xác suất thống kê",
        "csdl-cntt-teachers.html": "Giảng viên",
        "c1-viewer.html": "C1.pptx",
        "c1-viewer": "C1.pptx",
        "c2-1-viewer.html": "C2_1.pptx",
        "c2-1-viewer": "C2_1.pptx",
        "c2-2-viewer.html": "C2_2.pptx",
        "c2-2-viewer": "C2_2.pptx",
        "classmodel-viewer.html": "ClassModel.pdf",
        "th-template-viewer.html": "[TH] Template Nộp Bài Tập.docx",
        "thuchanh-csdl-viewer.html": "TH_CSDL_Jul_2025.pdf",
        "le-sy-vinh-documents.html": "GS. Lê Sỹ Vinh",
        "le-sy-vinh-documents": "GS. Lê Sỹ Vinh",
        "xac-suat-thong-ke-week-1-viewer.html": "Tuần 1: Biến cố và xác suất của biến cố (P1)",
        "xac-suat-thong-ke-week-2-viewer.html": "Tuần 2: Biến cố và xác suất của biến cố (P2)",
        "xac-suat-thong-ke-week-3-viewer.html": "Tuần 3: Đại lượng ngẫu nhiên rời rạc",
        "xac-suat-thong-ke-week-5-6-viewer.html": "Tuần 5 & 6: Đại lượng ngẫu nhiên liên tục",
        "xac-suat-thong-ke-week-6-viewer.html": "Tuần 6: Luật số lớn & Định lý giới hạn trung tâm",
        "xac-suat-thong-ke-week-7-viewer.html": "Tuần 7: Giới thiệu thống kê & Khoảng tin cậy",
        "xac-suat-thong-ke-week-8-viewer.html": "Tuần 8: Kiểm định giả thuyết",
        "xac-suat-thong-ke-week-9-viewer.html": "Tuần 9: Kiểm định – P-value",
        "xac-suat-thong-ke-week-10-viewer.html": "Tuần 10: Phân tích tương quan & Hồi quy",
        "xac-suat-thong-ke-week-11-viewer.html": "Tuần 11: Công thức Bayes",
        "cntt-ktmt.html": "Kiến trúc máy tính",
        "cntt-ktmt": "Kiến trúc máy tính",
        "PGS_TS_NguyenTriThanh.html": "PGS.TS. Nguyễn Trí Thành",
        "PGS_TS_NguyenTriThanh": "PGS.TS. Nguyễn Trí Thành",
        "slide_gioi_thieu.html": "Slide giới thiệu",
        "slide_gioi_thieu": "Slide giới thiệu",
        "slide_chuong1.html": "Slide chương 1",
        "slide_chuong1": "Slide chương 1",
        "slide_chuong2.html": "Slide chương 2",
        "slide_chuong2": "Slide chương 2",
        "bai_tap_tuan_1.html": "Bài tập tuần 1",
        "giao_trinh.html": "Giáo trình",
        "giao_trinh": "Giáo trình",
        "Link_tai_phan_mem_mo_phong_EasyEDA.html": "Link tải phần mềm mô phỏng EasyEDA",
        "Link_tai_phan_mem_mo_phong_EasyEDA": "Link tải phần mềm mô phỏng EasyEDA",
        "huong_dan_su_dung_phan_mem.html": "Hướng dẫn sử dụng phần mềm",
        "huong_dan_su_dung_phan_mem": "Hướng dẫn sử dụng phần mềm",
        "bai_tap_tuan_2.html": "Bài tập tuần 2",
        "bai_tap_tuan_2": "Bài tập tuần 2",
        "Cong_cu_thuc_hanh_ve_mach.html": "Công cụ thực hành vẽ mạch",
        "Cong_cu_thuc_hanh_ve_mach": "Công cụ thực hành vẽ mạch",
        "huong_dan_su_dung_phan_mem_logisim.html": "Hướng dẫn sử dụng phần mềm logisim",
        "bai_tap_tuan_3.html": "Bài tập tuần 3",
        "bai_tap_tuan_3": "Bài tập tuần 3"
    };

    const breadcrumbList = document.getElementById('breadcrumb-list');
    let pathSegments = window.location.pathname.replace(/^\/+|\/+$/g, '').split('/');
    
    if (pathSegments[0] === 'StuShare') {
        pathSegments.shift(); 
    }
    
    let cumulativePath = '/StuShare';

    pathSegments.forEach((segment, index) => {
        const isLast = index === pathSegments.length - 1;
        
        if (!segment) return;
        
        const name = map[segment] || segment.replace('.html', '').replace(/-/g, ' ');
        const listItem = document.createElement('li');
        
        if (isLast) {
            listItem.classList.add('active');
            listItem.textContent = name;
        } else {
            const link = document.createElement('a');
            
            // --- LOGIC SỬA LỖI TẠO LINK ---
            let linkHref = cumulativePath + '/' + segment;
            
            // Nếu segment không chứa dấu '.', giả định nó là file và cần đuôi .html
            if (!segment.includes('.')) {
                linkHref += '.html';
            }
            
            // Xử lý riêng cho trang chủ
            if (name === 'Trang chủ' || segment === 'index.html') {
                linkHref = '/StuShare/index.html';
            }

            link.href = linkHref;
            link.textContent = name;
            listItem.appendChild(link);
        }
        
        // Cập nhật đường dẫn cho vòng lặp tiếp theo
        cumulativePath += '/' + segment;
        
        breadcrumbList.appendChild(listItem);
    });
})();
</script>